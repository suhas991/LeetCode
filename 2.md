# Higher Order Components (HOCs) in ReactJS

---

## ğŸ“Œ What is a Higher Order Component?

* A **Higher Order Component (HOC)** is an **advanced technique** in React for **reusing component logic**.
* **Definition**: A Higher Order Component is a **function that takes a component as an argument and returns a new component** with additional props or functionality.
* HOCs are **not part of React API**, but rather a **design pattern**.

---

## ğŸ“Œ Why Use HOCs?

* **Code Reusability**: Share logic across multiple components.
* **Cross-Cutting Concerns**: Add common functionality like authentication, logging, theming, etc.
* **Separation of Concerns**: Keep components clean by moving reusable logic into HOCs.

---

## ğŸ“Œ Syntax

```jsx
const EnhancedComponent = higherOrderComponent(WrappedComponent);
```

* **`WrappedComponent`** â†’ Original component
* **`higherOrderComponent`** â†’ Function that returns a new component
* **`EnhancedComponent`** â†’ New component with extended functionality

---

## ğŸ“Œ Example 1: Authentication HOC

```jsx
import React from "react";

function withAuth(WrappedComponent) {
  return function AuthenticatedComponent(props) {
    const isLoggedIn = localStorage.getItem("auth") === "true";

    if (!isLoggedIn) {
      return <h2>Please login to access this page</h2>;
    }

    return <WrappedComponent {...props} />;
  };
}

// Usage
function Dashboard() {
  return <h1>Welcome to the Dashboard!</h1>;
}

export default withAuth(Dashboard);
```

âœ… The HOC checks login state before rendering the component.

---

## ğŸ“Œ Example 2: Logger HOC

```jsx
import React, { useEffect } from "react";

function withLogger(WrappedComponent) {
  return function LoggedComponent(props) {
    useEffect(() => {
      console.log(`Component ${WrappedComponent.name} mounted`);
      return () => console.log(`Component ${WrappedComponent.name} unmounted`);
    }, []);

    return <WrappedComponent {...props} />;
  };
}

// Usage
function Profile() {
  return <h1>User Profile</h1>;
}

export default withLogger(Profile);
```

âœ… The HOC logs lifecycle events of the wrapped component.

---

## ğŸ“Œ Flow Diagram of HOCs

```
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  WrappedComponent (UI)  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚  Passed into
                      â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  HigherOrderComponent   â”‚
          â”‚ (adds logic/props)      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚  Returns new
                      â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ EnhancedComponent (HOC) â”‚
          â”‚  = Extra Features + UI  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Œ Rules of HOCs

1. Do **not mutate** the original component â€” always return a new one.
2. HOCs should be **pure functions** (no side effects).
3. Pass down **props transparently** using `{...props}`.
4. Apply **naming conventions** â†’ `withSomething(WrappedComponent)`.

---

## ğŸ“Œ HOC vs Alternatives

| Pattern          | Use Case                                                                  |
| ---------------- | ------------------------------------------------------------------------- |
| **HOCs**         | Share logic across multiple components (authentication, logging, etc.)    |
| **Render Props** | Share logic using a render function instead of wrapping                   |
| **Custom Hooks** | Share logic using hooks (preferred in modern React with functional comps) |

---

## ğŸ“Œ Best Practices

* Use **HOCs for cross-cutting concerns** (auth, logging, theming).
* Prefer **Custom Hooks** in modern React (simpler, less nesting).
* Name HOCs properly: `withAuth`, `withLogger`, `withTheme`, etc.
* Always **forward props** to avoid blocking component functionality.

---

## ğŸ“Œ Common Use Cases

* Authentication (`withAuth`)
* Logging/Analytics (`withLogger`)
* Error Boundaries (`withErrorBoundary`)
* Theming (`withTheme`)
* Data Fetching (`withData`)

---
